<%= javascript_include_tag 'moment.min.js' %>
<%= javascript_include_tag 'fullcalendar.min.js' %>
<script type="text/javascript">
	$(document).ready(function() {

    // page is now ready, initialize the calendar...

    $('#event_adder').click(function(){
    
    });

    $('#calendar').fullCalendar({
    	// Event handler for day clicks
        dayClick: function(date, jsEvent) {
        	var my_birthday = moment(date.format());
        	var background_color = "Blue";
        	var event_object = {
        		title: "My Event",
        		start: date.format(),
        		backgroundColor: background_color
        	};

        	/*// Send my event to db
        	$.ajax({
        		type: "POST",
        		url: "post_event",
        		data: event_object
        	});*/

        	$('#calendar').fullCalendar('renderEvent', event_object);
    	},

    	// Event handler for event clicks
    	eventClick: function(calEvent, jsEvent, view){
    		var formattedDate = moment(calEvent.start).format('MM-DD-YYYY');
    		alert('Event: ' + calEvent.title + "\n" + 'Date: ' + formattedDate + "\n");
    	}
    });

});
</script>

<div class="row">
    <div class="col-md-6 col-md-offset" id='calendar'></div>
    <div class="col-md-3 col-md-offset-2">
        <button id="event_adder" class="btn btn-primary" data-toggle="modal" data-target="#myModal"><i class="fa fa-calendar calendar-icon"></i> Add a new event</button>
        <table class="table upcoming" style="width:100%;height:200px;border:2px solid black;margin-top:5%">
            <th>
                Upcoming tasks
            </th>
        </table>
    </div>
</div>

<%= render 'event_modal' %>
<h4 class="modal-title"> Create A New Contact </h4>